<div class="register-container">
    <p>Register a new user:</p>

    <form [formGroup]="form">
        <label for="name">Name: </label>
        <input type="text" id="name" formControlName="name"><br><br>
    
        <label for="cnp">CNP: </label>
        <input type="text" id="cnp" formControlName="cnp"><br><br>

        <label for="usertype">Usertype</label>
        <select id="usertype" formControlName="usertype">
            <option value="STUDENT" >STUDENT</option>
            <option value="TEACHER" >TEACHER</option>
            <option value="CHIEF" >CHIEF</option>
        </select><br>
    
        <button [disabled]="!this.form.valid" type="submit" (click)="addUser()" (submit)="addUser()">Register</button>
    </form>
    <hr>

    <p>Register list of students from a file(each line should contain the name and cnp separated by comma)</p>
    <div class="Block">
        <label id="lbl" for="file">Upload file: </label>
        <input name='file' type='file' (change)="fileChanged($event)" accept=".txt">
        <select (change)="usertypeChanged($event)" [value]="this.usertype">
            <option value="STUDENT" >STUDENT</option>
            <option value="TEACHER" >TEACHER</option>
            <option value="CHIEF" >CHIEF</option>
        </select><br>
        <button (click)="registerUsers()">Register</button>
      </div>
      
    <div *ngIf="this.registeredStudents && this.registeredStudents.length > 0">
        <h2>Registered Students:</h2>
        <table>
            <tr>
                <td>Username</td>
                <td>Password</td>
            </tr>
            <tr  *ngFor="let student of this.registeredStudents">
                    <td>{{student.username}}</td>
                    <td>{{student.password}}</td>
            </tr>
        </table>
        <button (click)="downloadStudentsList()">Download</button>
    </div>

    </div>
